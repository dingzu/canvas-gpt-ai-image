# 更新日志

## 版本 2.0.0 - 2024-01-01

### ✅ 问题修复

#### 1. 选择工具优化
- **修复**: 选择工具现在支持拖拽多选功能
- **改进**: 支持框选多个对象，选择体验更加流畅
- **新增**: 按住鼠标左键拖拽即可框选多个对象

#### 2. 画笔工具重构
- **修复**: 完全重写画笔工具，修复之前的BUG
- **改进**: 使用Fabric.js的原生绘图模式，绘制更加流畅
- **新增**: 支持实时调整画笔颜色和大小
- **新增**: 绘制路径自动优化，线条更平滑

#### 3. 图片变换功能
- **修复**: 确保图片缩放和旋转功能正常工作
- **改进**: 优化图片控制点，缩放和旋转更加精确
- **新增**: 支持非等比缩放（lockUniScaling: false）
- **新增**: 旋转控制点距离优化，操作更便捷

### 🎨 界面优化

#### 4. 图标库升级
- **新增**: 引入 Lucide Vue 图标库
- **改进**: 所有工具栏图标更加美观和现代化
- **优化**: 图标尺寸和间距统一，视觉效果更佳

#### 5. 功能简化
- **移除**: 删除标记工具，简化交互流程
- **原因**: 避免功能重复，气泡工具已能满足标注需求

#### 6. 气泡功能优化
- **新增**: 点击已存在的气泡可直接编辑文字
- **新增**: 双击气泡进入编辑模式
- **改进**: 气泡创建逻辑更加智能，避免重复创建
- **优化**: 气泡样式和尺寸自适应文字长度

### 🔧 交互统一

#### 7. 添加功能重构
- **统一**: 图片、文字、气泡添加逻辑保持一致
- **改进**: 所有添加操作都归类到"添加内容"工具组
- **优化**: 工具栏布局更加合理，功能分组清晰

### 🛠️ 技术改进

#### 8. 代码重构
- **重构**: 完全重写画布事件处理系统
- **优化**: 组件结构更加清晰，代码更易维护
- **改进**: 错误处理和边界情况处理更加完善

#### 9. 依赖更新
- **新增**: lucide-vue-next@^0.294.0
- **保持**: 所有其他依赖版本保持稳定

### 📊 数据格式更新

#### 10. AI数据生成优化
- **移除**: 标记区域相关数据
- **保留**: 气泡描述和所有对象信息
- **优化**: JSON数据结构更加规范和完整
- **改进**: 文件命名和下载提示更加友好

---

### 升级说明

从 v1.0.0 升级到 v2.0.0：

1. **兼容性**: 旧的画布数据基本兼容，但标记功能数据将不再支持
2. **使用变化**: 
   - 不再有独立的标记工具
   - 气泡工具支持点击编辑
   - 画笔工具操作更加流畅
3. **建议**: 重新体验所有功能，熟悉新的交互方式

### 下一步计划

- [ ] 添加更多绘图工具（直线、矩形、圆形等）
- [ ] 支持图层管理
- [ ] 添加撤销/重做功能
- [ ] 支持画布背景自定义
- [ ] 添加协作功能支持
